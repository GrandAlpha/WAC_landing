{"version":3,"file":"js/main.bundle.js","mappings":"yBAyIA,SAASA,IACSC,EAAE,sBACMC,KAAK,sBAErBC,GAAG,SAAS,WAClB,IAAIC,EAAQH,EAAEI,MACFD,EAAME,QAAQ,kBAEpBC,YAAY,uBAA+C,SAAvBH,EAAMI,KAAK,QACvD,GACF,CACA,SAASC,IACP,IACIC,EAAoBT,EAAE,8BACDA,EAAE,+BAERE,GAAG,UAAU,SAAUQ,GACxC,IAAIC,EAAmBX,EAAEU,EAAEE,QAAQC,SAC/BC,EAAOH,EAAiBJ,KAAK,QAEjC,GAA+B,KAA3BQ,OAAOL,EAAEE,OAAOI,OAAe,CACjC,IAAIC,EAASjB,EACX,YACA,CACEkB,KAAM,OACNJ,KAAM,WAAaA,EACnBK,YAAuB,aAATL,EAAsB,eAAiB,mBACrDM,MAAO,wCAIXH,EAAOI,YAAYV,GACnBM,EAAOK,OACT,MACEtB,EAAE,iBAAmBc,EAAO,KAAKS,QAErC,IAQF,SAAuB,GAAgB,IAAd,SAAEC,GAAU,EAKnC,IAJA,IAAIC,EAAY,iBACZC,EAAiB,GACjBC,EAAS3B,EAAE,4BAEN4B,EAAI,EAAGA,GAAKF,EAAgBE,IAAK,CACxC,IAAIC,EAAS7B,EACX,YACA,CAAEoB,MAAOK,EAAY,YAEnBR,EAASjB,EACX,YACA,CACEoB,MAAOK,EAAY,UACnBP,KAAM,QACNF,MAAOY,EACPd,KAAM,UAGNgB,EAAa9B,EACf,UACA,CAAEoB,MAAOK,EAAY,gBAEnBM,EAAU/B,EACZ,WACA,CACEoB,MAAOK,EAAY,WACnBO,KAAMJ,IAIVC,EAAOI,OAAOhB,GACdY,EAAOI,OAAOH,GACdD,EAAOI,OAAOF,GACdJ,EAAOM,OAAOJ,GAEdZ,EAAOf,GAAG,UAAU,SAAUQ,GAC5Bc,EAASd,EAAEE,OAAOI,MACpB,GACF,CACF,CA9CEkB,CAAe,CACbV,SAAUR,GACRP,EAAkBH,YAAYmB,2BAAwBV,OAAOC,IAAU,EACzE,GAEJ,CA0CA,SAASmB,IACP,IAAIC,EAASpC,EAAE,mBACXqC,EAAcD,EAAOE,QACXtC,EAAE,wBAEhBoC,EAAOb,SAEPvB,EAAEuC,UAAUrC,GAAG,QAAS,wBAAyB,SAAUQ,GACzD,IAAI8B,EAAgB,aAChBC,EAASzC,EAAEU,EAAEE,QAAQL,KAAK,UAC1BmC,EAAeL,EAAYpC,KAAK,wBAChC0C,EAAQ,WACVN,EAAYO,SAASJ,GAErBK,YACE,WACER,EAAYS,YAAYN,GACxBH,EAAYd,SACZvB,EAAE,QAAQ+C,IAAI,CAAEC,SAAU,IAC5B,GACA,IAEJ,EAEAhD,EAAE,QAAQ+C,IAAI,CAAEC,SAAU,WAC1BX,EAAYpC,KAAK,uBAAuBgD,KAAK,OAAQR,GACrDJ,EAAYU,IAAI,CAAEG,QAAS,UAC3BlD,EAAE,QAAQiC,OAAOI,GAEjBA,EAAYpC,KAAK,cAAcqB,QAE/BtB,EAAEuC,UAAUrC,GAAG,SAAS,SAASQ,GACjB,WAAVA,EAAEyC,KACJR,GAEJ,IACAD,EAAaxC,GAAG,QAASyC,EAC3B,GACF,CAEA,SAASS,IACP,IAAIC,GAAW,EACf,MAAMC,EAAQtD,EAAE,uBACVuD,EAAUD,EAAMrD,KAAK,6BAE3BqD,EAAMpD,GAAG,UAAU,SAAUQ,GAG3B,GAFAA,EAAE8C,iBAEEH,EAAU,OAEd,MAAMI,EAAcF,EAAQtD,KAAK,iCAC3ByD,EAAS1D,EAAG,sOAMZ2D,EAAU3D,EAAE,oJAElByD,EAAYV,IAAI,CAAEa,QAAS,IAE3BL,EAAQtB,OAAO0B,GAEfN,GAAW,EAEXR,YACE,KAEEY,EAAYV,IAAI,CAAEa,QAAS,IAC3BD,EAAQpC,SAE8C,IAAlD+B,EAAMrD,KAAK,4BAA4B4D,QACzCP,EAAMrB,OAAOyB,GAGfL,GAAW,CAAK,GAElB,IAEJ,GACF,CA5SAS,OAAOvB,UAAUwB,OAAM,SAAS/D,GA+B9B,GA5BAA,EAAEgE,QAAQC,QAAO,WACXjE,EAAEI,MAAM8D,YAAc,KACxBlE,EAAE,gBAAgBmE,OAAO,QACzBnE,EAAE,WAAW4C,SAAS,kBAEtB5C,EAAE,gBAAgBoE,QAAQ,QAC1BpE,EAAE,WAAW8C,YAAY,gBAE7B,IACA9C,EAAE,gBAAgBqE,OAAM,WAItB,OAHArE,EAAE,cAAcsE,QAAQ,CACtBJ,UAAW,GACV,KAAM,kBACF,CACT,IAGAK,IAAIC,OAGJxE,EAAE,aAAayE,UAAU,CACvBC,UAAW,CACTd,QAAS,QAEXe,MAAO,MAIL3E,EAAE,uBAAuB6D,OAAQ,CACnC,IAAIe,EAAc5E,EAAE,uBAAuBsC,QAAQuC,KAAK,CACtDC,GAAI,eAENF,EAAY3E,KAAK,QAAQgD,KAAK,CAC5B,MAAS,GACT,GAAM,KAERjD,EAAE,QAAQiC,OAAO2C,GACjB5E,EAAE,QAAQ+E,QAAQ,oFAClB/E,EAAE,QAAQiC,OAAO,uCACjBjC,EAAE,eAAeC,KAAK,sBAAsB8E,QAAQ,sCAEpD/E,EAAEuC,UAAUrC,GAAG,QAAS,wBAAwB,SAASQ,GACvDV,EAAEI,MAAM4E,OAAO1E,YAAY,oBAC3BN,EAAEI,MAAM6E,QAAQ,MAAMC,GAAG,GAAGC,cAC5BnF,EAAEI,MAAME,YAAY,gCACtB,IAEAN,EAAEuC,UAAUrC,GAAG,QAAS,sBAAsB,SAASQ,GACrDV,EAAE,QAAQM,YAAY,qBACtBN,EAAE,wBAAwBM,YAAY,oBACtCN,EAAE,uBAAuBoF,QAC3B,IAEApF,EAAEuC,UAAU8B,OAAM,SAAS3D,GACzB,IAAI2E,EAAYrF,EAAE,mCACbqF,EAAUC,GAAG5E,EAAEE,SAA8C,IAAnCyE,EAAUE,IAAI7E,EAAEE,QAAQiD,QACjD7D,EAAE,QAAQwF,SAAS,uBACrBxF,EAAE,QAAQ8C,YAAY,qBACtB9C,EAAE,wBAAwBM,YAAY,oBACtCN,EAAE,uBAAuBoE,UAG/B,GACF,MAAWpE,EAAE,mCAAmC6D,QAC9C7D,EAAE,mCAAmCyF,OAIvCzF,EAAE,yCAAyCE,GAAG,SAAS,WACrD,GAAIwF,SAASC,SAASC,QAAQ,MAAO,KAAOxF,KAAKuF,SAASC,QAAQ,MAAO,KAAOF,SAASG,UAAYzF,KAAKyF,SAAU,CAClH,IAAIjF,EAASZ,EAAEI,KAAK0F,MACpB,GAAIlF,EAAOiD,OAAQ,CACjB,IAAIkC,EAAY,EAwBhB,OAtBI/F,EAAE,WAAW6D,SACfkC,EAAY/F,EAAE,WAAWgG,cAEnBhG,EAAE,WAAWwF,SAAS,kBAC1BO,GAAwB,KAI5B/F,EAAE,cAAcsE,QAAQ,CACtBJ,UAAWtD,EAAOqF,SAASC,IAAMH,GAChC,KAAM,iBAEL/F,EAAEI,MAAM+F,QAAQ,aAAatC,SAC/B7D,EAAE,0BAA0B8C,YAAY,eACxC9C,EAAEI,MAAMC,QAAQ,MAAMuC,SAAS,gBAG7B5C,EAAE,QAAQwF,SAAS,uBACrBxF,EAAE,QAAQ8C,YAAY,qBACtB9C,EAAE,wBAAwBM,YAAY,oBACtCN,EAAE,uBAAuBoE,YAEpB,CACT,CACF,CACF,IAGApE,EAAE,kBAAkBoG,cAAc,CAChClF,KAAM,QACNmF,aAAc,IACdC,UAAW,WACXC,QAAS,CACPC,SAAS,GAEXC,KAAM,CACJD,SAAS,EACTE,SAAU,IACVC,OAAQ,cACRC,OAAQ,SAASC,GACf,OAAOA,EAAcvB,GAAG,OAASuB,EAAgBA,EAAc5G,KAAK,MACtE,KAQJF,IACAS,IACA2B,IACAiB,IAEApD,EAAE,uBAAuB8G,KAAK,sBAChC,G","sources":["webpack://WAC_client/./src/index.js"],"sourcesContent":["import './main.scss';\r\n\r\njQuery(document).ready(function($) {\r\n\r\n  // Header fixed and Back to top button\r\n  $(window).scroll(function() {\r\n    if ($(this).scrollTop() > 100) {\r\n      $('.back-to-top').fadeIn('slow');\r\n      $('#header').addClass('header-fixed');\r\n    } else {\r\n      $('.back-to-top').fadeOut('slow');\r\n      $('#header').removeClass('header-fixed');\r\n    }\r\n  });\r\n  $('.back-to-top').click(function() {\r\n    $('html, body').animate({\r\n      scrollTop: 0\r\n    }, 1500, 'easeInOutExpo');\r\n    return false;\r\n  });\r\n\r\n  // Initiate the AOS animation library\r\n  AOS.init();\r\n\r\n  // Initiate superfish on nav menu\r\n  $('.nav-menu').superfish({\r\n    animation: {\r\n      opacity: 'show'\r\n    },\r\n    speed: 400\r\n  });\r\n\r\n  // Mobile Navigation\r\n  if ($('#nav-menu-container').length) {\r\n    var $mobile_nav = $('#nav-menu-container').clone().prop({\r\n      id: 'mobile-nav'\r\n    });\r\n    $mobile_nav.find('> ul').attr({\r\n      'class': '',\r\n      'id': ''\r\n    });\r\n    $('body').append($mobile_nav);\r\n    $('body').prepend('<button type=\"button\" id=\"mobile-nav-toggle\"><i class=\"fa fa-bars\"></i></button>');\r\n    $('body').append('<div id=\"mobile-body-overly\"></div>');\r\n    $('#mobile-nav').find('.menu-has-children').prepend('<i class=\"fa fa-chevron-down\"></i>');\r\n\r\n    $(document).on('click', '.menu-has-children i', function(e) {\r\n      $(this).next().toggleClass('menu-item-active');\r\n      $(this).nextAll('ul').eq(0).slideToggle();\r\n      $(this).toggleClass(\"fa-chevron-up fa-chevron-down\");\r\n    });\r\n\r\n    $(document).on('click', '#mobile-nav-toggle', function(e) {\r\n      $('body').toggleClass('mobile-nav-active');\r\n      $('#mobile-nav-toggle i').toggleClass('fa-times fa-bars');\r\n      $('#mobile-body-overly').toggle();\r\n    });\r\n\r\n    $(document).click(function(e) {\r\n      var container = $(\"#mobile-nav, #mobile-nav-toggle\");\r\n      if (!container.is(e.target) && container.has(e.target).length === 0) {\r\n        if ($('body').hasClass('mobile-nav-active')) {\r\n          $('body').removeClass('mobile-nav-active');\r\n          $('#mobile-nav-toggle i').toggleClass('fa-times fa-bars');\r\n          $('#mobile-body-overly').fadeOut();\r\n        }\r\n      }\r\n    });\r\n  } else if ($(\"#mobile-nav, #mobile-nav-toggle\").length) {\r\n    $(\"#mobile-nav, #mobile-nav-toggle\").hide();\r\n  }\r\n\r\n  // Smoth scroll on page hash links\r\n  $('.nav-menu a, #mobile-nav a, .scrollto').on('click', function() {\r\n    if (location.pathname.replace(/^\\//, '') == this.pathname.replace(/^\\//, '') && location.hostname == this.hostname) {\r\n      var target = $(this.hash);\r\n      if (target.length) {\r\n        var top_space = 0;\r\n\r\n        if ($('#header').length) {\r\n          top_space = $('#header').outerHeight();\r\n\r\n          if( ! $('#header').hasClass('header-fixed') ) {\r\n            top_space = top_space - 20;\r\n          }\r\n        }\r\n\r\n        $('html, body').animate({\r\n          scrollTop: target.offset().top - top_space\r\n        }, 1500, 'easeInOutExpo');\r\n\r\n        if ($(this).parents('.nav-menu').length) {\r\n          $('.nav-menu .menu-active').removeClass('menu-active');\r\n          $(this).closest('li').addClass('menu-active');\r\n        }\r\n\r\n        if ($('body').hasClass('mobile-nav-active')) {\r\n          $('body').removeClass('mobile-nav-active');\r\n          $('#mobile-nav-toggle i').toggleClass('fa-times fa-bars');\r\n          $('#mobile-body-overly').fadeOut();\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n  });\r\n\r\n  // Gallery - uses the magnific popup jQuery plugin\r\n  $('.gallery-popup').magnificPopup({\r\n    type: 'image',\r\n    removalDelay: 300,\r\n    mainClass: 'mfp-fade',\r\n    gallery: {\r\n      enabled: true\r\n    },\r\n    zoom: {\r\n      enabled: true,\r\n      duration: 300,\r\n      easing: 'ease-in-out',\r\n      opener: function(openerElement) {\r\n        return openerElement.is('img') ? openerElement : openerElement.find('img');\r\n      }\r\n    }\r\n  });\r\n\r\n  /**\r\n   * Блок \"Услуги\"\r\n   * - Анимация переворачивания карточек\r\n   */\r\n  services();\r\n  survey();\r\n  modal();\r\n  loginForm();\r\n\r\n  $('[data-js=phoneMask]').mask('+ 7 (999) 999 99 99');\r\n});\r\n\r\n// Service block\r\nfunction services () {\r\n  var $services = $('[data-js=services]');\r\n  var $button = $services.find('[data-js=flipCard]');\r\n\r\n  $button.on('click', function () {\r\n    var $this = $(this);\r\n    var $card = $this.closest('[data-js=card]');\r\n\r\n    $card.toggleClass('servicesCard_flipped', $this.data('type') === 'more');\r\n  });\r\n}\r\nfunction survey () {\r\n  var className = 'difficultProblem';\r\n  var $difficultProblem = $('[data-js=difficultProblem]');\r\n  var $selectWithAnother = $('[data-js=selectWithAnother]');\r\n\r\n  $selectWithAnother.on('change', function (e) {\r\n    var $selectContainer = $(e.target).parent();\r\n    var name = $selectContainer.data('name');\r\n\r\n    if (Number(e.target.value) === 99) {\r\n      var $input = $(\r\n        '<input />',\r\n        {\r\n          type: 'text',\r\n          name: 'reserve_' + name,\r\n          placeholder: (name === 'industry' ? 'Ваша отрасль' : 'Опишите проблему'),\r\n          class: 'form-control survey__anotherProblem',\r\n        },\r\n      );\r\n\r\n      $input.insertAfter($selectContainer);\r\n      $input.focus();\r\n    } else {\r\n      $('[name=another_' + name + ']').remove();\r\n    }\r\n  });\r\n\r\n  scaleOfProblem({\r\n    onChange (value) {\r\n      $difficultProblem.toggleClass(className + '_visible', Number(value) >= 9);\r\n    },\r\n  });\r\n};\r\nfunction scaleOfProblem ({ onChange }) {\r\n  var className = 'scaleOfProblem';\r\n  var numberOfPoints = 10;\r\n  var $block = $('[data-js=scaleOfProblem]');\r\n\r\n  for (var i = 1; i <= numberOfPoints; i++) {\r\n    var $label = $(\r\n      '<label />',\r\n      { class: className + '__label' },\r\n    );\r\n    var $input = $(\r\n      '<input />',\r\n      {\r\n        class: className + '__input',\r\n        type: 'radio',\r\n        value: i,\r\n        name: 'scale',\r\n      },\r\n    );\r\n    var $fakeInput = $(\r\n      '<div />',\r\n      { class: className + '__fakeInput' },\r\n    );\r\n    var $number = $(\r\n      '<span />',\r\n      {\r\n        class: className + '__number',\r\n        text: i,\r\n      },\r\n    );\r\n\r\n    $label.append($input);\r\n    $label.append($fakeInput);\r\n    $label.append($number);\r\n    $block.append($label);\r\n\r\n    $input.on('change', function (e) {\r\n      onChange(e.target.value);\r\n    });\r\n  }\r\n}\r\nfunction modal () {\r\n  var $modal = $('[data-js=modal]');\r\n  var $modalClone = $modal.clone();\r\n  var $button = $('[data-js=getService]');\r\n\r\n  $modal.remove();\r\n\r\n  $(document).on('click', '[data-js=getService]',  function (e) {\r\n    var hideClassName = 'modal_hide';\r\n    var reason = $(e.target).data('reason');\r\n    var $closeButton = $modalClone.find('[data-js=modalClose]');\r\n    var close = function () {\r\n      $modalClone.addClass(hideClassName);\r\n\r\n      setTimeout(\r\n        function () {\r\n          $modalClone.removeClass(hideClassName);\r\n          $modalClone.remove();\r\n          $('html').css({ overflow: '' });\r\n        },\r\n        400,\r\n      )\r\n    };\r\n\r\n    $('html').css({ overflow: 'hidden' });\r\n    $modalClone.find('button[type=submit]').attr('name', reason);\r\n    $modalClone.css({ display: 'block' });\r\n    $('body').append($modalClone);\r\n\r\n    $modalClone.find('[name=fio]').focus();\r\n\r\n    $(document).on('keyup', function(e) {\r\n      if (e.key === 'Escape') {\r\n        close();\r\n      }\r\n    });\r\n    $closeButton.on('click', close);\r\n  });\r\n}\r\n\r\nfunction loginForm () {\r\n  let disabled = false;\r\n  const $form = $('[data-js=loginForm]');\r\n  const $button = $form.find('[data-js=loginFormButton]');\r\n\r\n  $form.on('submit', function (e) {\r\n    e.preventDefault();\r\n\r\n    if (disabled) return;\r\n\r\n    const $buttonText = $button.find('[data-js=loginFormButtonText]');\r\n    const $error = $(`\r\n      <div class=\"auth__error\" data-js=\"loginFormError\">\r\n        Не получается авторизоваться :(<br />\r\n        <button class=\"auth__errorButton\" type=\"button\" data-js=\"getService\">Напишите нам</button>.\r\n      </div>\r\n    `);\r\n    const $lottie = $('<lottie-player src=\"/static/lottie/loading.json\" class=\"auth__buttonLoading\" background=\"transparent\"  speed=\"1\"  loop autoplay></lottie-player>');\r\n\r\n    $buttonText.css({ opacity: 0 });\r\n\r\n    $button.append($lottie);\r\n\r\n    disabled = true;\r\n\r\n    setTimeout(\r\n      () => {\r\n        // window.location.replace('https://theblockcapital.ru/lk');\r\n        $buttonText.css({ opacity: 1 });\r\n        $lottie.remove();\r\n\r\n        if ($form.find('[data-js=loginFormError]').length === 0) {\r\n          $form.append($error);\r\n        }\r\n\r\n        disabled = false;\r\n      },\r\n      2000,\r\n    );\r\n  });\r\n}"],"names":["services","$","find","on","$this","this","closest","toggleClass","data","survey","$difficultProblem","e","$selectContainer","target","parent","name","Number","value","$input","type","placeholder","class","insertAfter","focus","remove","onChange","className","numberOfPoints","$block","i","$label","$fakeInput","$number","text","append","scaleOfProblem","modal","$modal","$modalClone","clone","document","hideClassName","reason","$closeButton","close","addClass","setTimeout","removeClass","css","overflow","attr","display","key","loginForm","disabled","$form","$button","preventDefault","$buttonText","$error","$lottie","opacity","length","jQuery","ready","window","scroll","scrollTop","fadeIn","fadeOut","click","animate","AOS","init","superfish","animation","speed","$mobile_nav","prop","id","prepend","next","nextAll","eq","slideToggle","toggle","container","is","has","hasClass","hide","location","pathname","replace","hostname","hash","top_space","outerHeight","offset","top","parents","magnificPopup","removalDelay","mainClass","gallery","enabled","zoom","duration","easing","opener","openerElement","mask"],"sourceRoot":""}
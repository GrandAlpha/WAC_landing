{"version":3,"file":"js/main.bundle.js","mappings":"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","sources":["webpack://WAC_client/./src/index.js"],"sourcesContent":["import './main.scss';\n\njQuery(document).ready(function($) {\n\n  // Header fixed and Back to top button\n  $(window).scroll(function() {\n    if ($(this).scrollTop() > 100) {\n      $('.back-to-top').fadeIn('slow');\n      $('#header').addClass('header-fixed');\n    } else {\n      $('.back-to-top').fadeOut('slow');\n      $('#header').removeClass('header-fixed');\n    }\n  });\n  $('.back-to-top').click(function() {\n    $('html, body').animate({\n      scrollTop: 0\n    }, 1500, 'easeInOutExpo');\n    return false;\n  });\n\n  // Initiate the AOS animation library\n  AOS.init();\n\n  // Initiate superfish on nav menu\n  $('.nav-menu').superfish({\n    animation: {\n      opacity: 'show'\n    },\n    speed: 400\n  });\n\n  // Mobile Navigation\n  if ($('#nav-menu-container').length) {\n    var $mobile_nav = $('#nav-menu-container').clone().prop({\n      id: 'mobile-nav'\n    });\n    $mobile_nav.find('> ul').attr({\n      'class': '',\n      'id': ''\n    });\n    $('body').append($mobile_nav);\n    $('body').prepend('<button type=\"button\" id=\"mobile-nav-toggle\"><i class=\"fa fa-bars\"></i></button>');\n    $('body').append('<div id=\"mobile-body-overly\"></div>');\n    $('#mobile-nav').find('.menu-has-children').prepend('<i class=\"fa fa-chevron-down\"></i>');\n\n    $(document).on('click', '.menu-has-children i', function(e) {\n      $(this).next().toggleClass('menu-item-active');\n      $(this).nextAll('ul').eq(0).slideToggle();\n      $(this).toggleClass(\"fa-chevron-up fa-chevron-down\");\n    });\n\n    $(document).on('click', '#mobile-nav-toggle', function(e) {\n      $('body').toggleClass('mobile-nav-active');\n      $('#mobile-nav-toggle i').toggleClass('fa-times fa-bars');\n      $('#mobile-body-overly').toggle();\n    });\n\n    $(document).click(function(e) {\n      var container = $(\"#mobile-nav, #mobile-nav-toggle\");\n      if (!container.is(e.target) && container.has(e.target).length === 0) {\n        if ($('body').hasClass('mobile-nav-active')) {\n          $('body').removeClass('mobile-nav-active');\n          $('#mobile-nav-toggle i').toggleClass('fa-times fa-bars');\n          $('#mobile-body-overly').fadeOut();\n        }\n      }\n    });\n  } else if ($(\"#mobile-nav, #mobile-nav-toggle\").length) {\n    $(\"#mobile-nav, #mobile-nav-toggle\").hide();\n  }\n\n  // Smoth scroll on page hash links\n  $('.nav-menu a, #mobile-nav a, .scrollto').on('click', function() {\n    if (location.pathname.replace(/^\\//, '') == this.pathname.replace(/^\\//, '') && location.hostname == this.hostname) {\n      var target = $(this.hash);\n      if (target.length) {\n        var top_space = 0;\n\n        if ($('#header').length) {\n          top_space = $('#header').outerHeight();\n\n          if( ! $('#header').hasClass('header-fixed') ) {\n            top_space = top_space - 20;\n          }\n        }\n\n        $('html, body').animate({\n          scrollTop: target.offset().top - top_space\n        }, 1500, 'easeInOutExpo');\n\n        if ($(this).parents('.nav-menu').length) {\n          $('.nav-menu .menu-active').removeClass('menu-active');\n          $(this).closest('li').addClass('menu-active');\n        }\n\n        if ($('body').hasClass('mobile-nav-active')) {\n          $('body').removeClass('mobile-nav-active');\n          $('#mobile-nav-toggle i').toggleClass('fa-times fa-bars');\n          $('#mobile-body-overly').fadeOut();\n        }\n        return false;\n      }\n    }\n  });\n\n  // Gallery - uses the magnific popup jQuery plugin\n  $('.gallery-popup').magnificPopup({\n    type: 'image',\n    removalDelay: 300,\n    mainClass: 'mfp-fade',\n    gallery: {\n      enabled: true\n    },\n    zoom: {\n      enabled: true,\n      duration: 300,\n      easing: 'ease-in-out',\n      opener: function(openerElement) {\n        return openerElement.is('img') ? openerElement : openerElement.find('img');\n      }\n    }\n  });\n\n  /**\n   * Блок \"Услуги\"\n   * - Анимация переворачивания карточек\n   */\n  services();\n  survey();\n  modal();\n  loginForm();\n\n  $('[data-js=phoneMask]').mask('+ 7 (999) 999 99 99');\n});\n\n// Service block\nfunction services () {\n  var $services = $('[data-js=services]');\n  var $button = $services.find('[data-js=flipCard]');\n\n  $button.on('click', function () {\n    var $this = $(this);\n    var $card = $this.closest('[data-js=card]');\n\n    $card.toggleClass('servicesCard_flipped', $this.data('type') === 'more');\n  });\n}\nfunction survey () {\n  var className = 'difficultProblem';\n  var $difficultProblem = $('[data-js=difficultProblem]');\n  var $selectWithAnother = $('[data-js=selectWithAnother]');\n\n  $selectWithAnother.on('change', function (e) {\n    var $selectContainer = $(e.target).parent();\n    var name = $selectContainer.data('name');\n\n    if (Number(e.target.value) === 99) {\n      var $input = $(\n        '<input />',\n        {\n          type: 'text',\n          name: 'reserve_' + name,\n          placeholder: (name === 'industry' ? 'Ваша отрасль' : 'Опишите проблему'),\n          class: 'form-control survey__anotherProblem',\n        },\n      );\n\n      $input.insertAfter($selectContainer);\n      $input.focus();\n    } else {\n      $('[name=another_' + name + ']').remove();\n    }\n  });\n\n  scaleOfProblem({\n    onChange (value) {\n      $difficultProblem.toggleClass(className + '_visible', Number(value) >= 9);\n    },\n  });\n};\nfunction scaleOfProblem ({ onChange }) {\n  var className = 'scaleOfProblem';\n  var numberOfPoints = 10;\n  var $block = $('[data-js=scaleOfProblem]');\n\n  for (var i = 1; i <= numberOfPoints; i++) {\n    var $label = $(\n      '<label />',\n      { class: className + '__label' },\n    );\n    var $input = $(\n      '<input />',\n      {\n        class: className + '__input',\n        type: 'radio',\n        value: i,\n        name: 'scale',\n      },\n    );\n    var $fakeInput = $(\n      '<div />',\n      { class: className + '__fakeInput' },\n    );\n    var $number = $(\n      '<span />',\n      {\n        class: className + '__number',\n        text: i,\n      },\n    );\n\n    $label.append($input);\n    $label.append($fakeInput);\n    $label.append($number);\n    $block.append($label);\n\n    $input.on('change', function (e) {\n      onChange(e.target.value);\n    });\n  }\n}\nfunction modal () {\n  var $modal = $('[data-js=modal]');\n  var $modalClone = $modal.clone();\n  var $button = $('[data-js=getService]');\n\n  $modal.remove();\n\n  $(document).on('click', '[data-js=getService]',  function (e) {\n    var hideClassName = 'modal_hide';\n    var reason = $(e.target).data('reason');\n    var $closeButton = $modalClone.find('[data-js=modalClose]');\n    var close = function () {\n      $modalClone.addClass(hideClassName);\n\n      setTimeout(\n        function () {\n          $modalClone.removeClass(hideClassName);\n          $modalClone.remove();\n          $('html').css({ overflow: '' });\n        },\n        400,\n      )\n    };\n\n    $('html').css({ overflow: 'hidden' });\n    $modalClone.find('button[type=submit]').attr('name', reason);\n    $modalClone.css({ display: 'block' });\n    $('body').append($modalClone);\n\n    $modalClone.find('[name=fio]').focus();\n\n    $(document).on('keyup', function(e) {\n      if (e.key === 'Escape') {\n        close();\n      }\n    });\n    $closeButton.on('click', close);\n  });\n}\n\nfunction loginForm () {\n  let disabled = false;\n  const $form = $('[data-js=loginForm]');\n  const $button = $form.find('[data-js=loginFormButton]');\n\n  $form.on('submit', function (e) {\n    e.preventDefault();\n\n    if (disabled) return;\n\n    const $buttonText = $button.find('[data-js=loginFormButtonText]');\n    const $error = $(`\n      <div class=\"auth__error\" data-js=\"loginFormError\">\n        Не получается авторизоваться :(<br />\n        <button class=\"auth__errorButton\" type=\"button\" data-js=\"getService\">Напишите нам</button>.\n      </div>\n    `);\n    const $lottie = $('<lottie-player src=\"/static/lottie/loading.json\" class=\"auth__buttonLoading\" background=\"transparent\"  speed=\"1\"  loop autoplay></lottie-player>');\n\n    $buttonText.css({ opacity: 0 });\n\n    $button.append($lottie);\n\n    disabled = true;\n\n    setTimeout(\n      () => {\n        $buttonText.css({ opacity: 1 });\n        $lottie.remove();\n\n        if ($form.find('[data-js=loginFormError]').length === 0) {\n          $form.append($error);\n        }\n\n        disabled = false;\n      },\n      2000,\n    );\n  });\n}"],"names":["services","$","find","on","$this","this","closest","toggleClass","data","survey","$difficultProblem","e","$selectContainer","target","parent","name","Number","value","$input","type","placeholder","class","insertAfter","focus","remove","onChange","className","numberOfPoints","$block","i","$label","$fakeInput","$number","text","append","scaleOfProblem","modal","$modal","$modalClone","clone","document","hideClassName","reason","$closeButton","close","addClass","setTimeout","removeClass","css","overflow","attr","display","key","loginForm","disabled","$form","$button","preventDefault","$buttonText","$error","$lottie","opacity","length","jQuery","ready","window","scroll","scrollTop","fadeIn","fadeOut","click","animate","AOS","init","superfish","animation","speed","$mobile_nav","prop","id","prepend","next","nextAll","eq","slideToggle","toggle","container","is","has","hasClass","hide","location","pathname","replace","hostname","hash","top_space","outerHeight","offset","top","parents","magnificPopup","removalDelay","mainClass","gallery","enabled","zoom","duration","easing","opener","openerElement","mask"],"sourceRoot":""}